<html>
<head>
<title>The Golden Rule of Rebasing in Git | Axosoft</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Git | Axosoft中重置基础的黄金法则</h1>
<blockquote>原文：<a href="https://www.gitkraken.com/blog/golden-rule-of-rebasing-in-git#0001-01-01">https://www.gitkraken.com/blog/golden-rule-of-rebasing-in-git#0001-01-01</a></blockquote><div><div class="elementor-widget-container">
			
<p>使用Git时，重定基础是一个经常出现的话题。很多时候，重定基导致不得不进行强制推送，这使得一些人对重定基持谨慎态度。没必要担心！一旦你理解了为什么强制推进是必要的，以及如何负责任地调整基数，你会感觉更舒服。</p>



<p>那么，什么是重定基，在Git中如何重定基呢？重定基础就是简单地获取在其他地方进行的变更，将它们合并到您的分支中，然后在新的基础上重新执行您的所有变更。</p>



<figure class="wp-block-pullquote has-white-color has-text-color"><blockquote><p>重定基础的黄金法则是:“当你在公共部门工作时，千万不要重定基础。”</p></blockquote></figure>



<p>事实上，你在改变提交历史，医生告诉我们这会带来灾难性的后果。(尤其是碰到未来的自己。)</p>



<p>所以，让我们放点休易·路易斯，听听repeat上的<em>爱情的力量</em>，深入一个以<em>回到未来</em>为特色的例子。如果你甚至在考虑使用CLI…我们要去的地方，我们不需要命令行！</p>





<p aria-hidden="true" class="wp-block-spacer">时间线</p>



<h2>我在GitKraken做了一个新的repo，一个<a href="https://www.gitkraken.com/" target="_blank" rel="noreferrer noopener">跨平台的Git GUI </a>，特色是一些从<em>回到未来</em>的主要情节点。首先，马蒂被送回1985年。您将看到我创建了一个新的时间线分支，其中有几个提交，代表随后的事件。然后，我把时间线分支推上了GitHub。</h2>



<p>马蒂被送回过去，在那里他经历了一些起起落落。</p>





<p class="has-text-align-center">马蒂被送回过去，在那里他经历了一些高潮和低谷。</p>



<p aria-hidden="true" class="wp-block-spacer">这条时间线分支最终引导马蒂成功回到了未来，并以恶霸毕夫给马蒂爸爸的宝马打蜡而愉快地结束；另外马蒂有一辆全新的丰田4×4。耶！每个人都喜欢幸福的结局！</p>



<p>然而，回到<kbd>master</kbd>，还有另一个变化，格雷斯运动年鉴被添加到图片中。(啊哦…毕夫要把世界变成一个非常丑陋的地方……)</p>



<p>如果我在<kbd>master</kbd>的顶部重设时间线，(通过拖动左边的<kbd>timeline</kbd>标签，在<kbd>master</kbd>标签的顶部，并选择<kbd>rebase timeline into master</kbd> ) GitKraken将重放我所有的提交，在<kbd>master</kbd>的最后一次提交之上，以同样的顺序。</p>



<p>你可能知道，这一行动影响了未来，比夫成为一个玩弄女性的亿万富翁赌场老板，并娶了马蒂的妈妈。(与现任总统候选人的任何相似之处纯属巧合，但我跑题了。)</p>



<p>比夫有机会接管这个世界……而且确实如此。</p>





<p class="has-text-align-center">比夫有机会接管这个世界……而且确实如此。</p>



<p aria-hidden="true" class="wp-block-spacer">回到我的远程<kbd>timeline</kbd>分支，你会看到我仍然拥有快乐时间线中发生的所有事情，但是在本地我们有不同的提交历史。</p>



<p>因此，GitKraken不会允许简单的推动。Git只允许推送新的提交，不能将其他提交插入到Git历史中，这就是为什么我必须进行强制推送。<strong>force push实际上是用我们本地的分支取代了远程分支。</strong></p>



<p>现在，这就是一些麻烦出现的地方。如果我用本地的分支替换我的远程分支，这就有能力覆盖其他更改，这也是为什么很多人不愿意使用rebase的原因。</p>



<p>“妈妈给比萨饼补水！”已添加。</p>





<p class="has-text-align-center">“妈妈给比萨饼补水！”已添加。</p>



<p aria-hidden="true" class="wp-block-spacer">假设对我的远程分支进行了其他更改，但我没有在本地进行。因此，在远程<kbd>timeline</kbd>分支上，Doc又提交了一个名为“妈妈水合了一个比萨饼！”，这在我当地的<kbd>timeline</kbd>分公司是不存在的。</p>



<p>现在，如果我进行强制推送，任何不在本地分支上的提交都将丢失，我们也不会得到含水的比萨饼。在这种情况下，我可以将任何新的提交挑选到我的本地<kbd>timeline</kbd>中，然后进行强制推送。</p>



<p>我知道，我知道，这让我们陷入了反乌托邦的时间线，也毁了马蒂的幸福生活…</p>



<p>重置基础的黄金法则</p>



<p aria-hidden="true" class="wp-block-spacer">重定基础的黄金法则是:“当你在一个公共分支机构时，永远不要重定基础。”通过这种方式，没有其他人会推动其他更改，并且没有不在本地repo中的提交会存在于远程分支上。所以当你推送的时候，没有删除数据的可能。</p>



<h2>如果我的计算是正确的，当这个宝贝达到88英里的时速，你会看到一些严重的饭桶！！</h2>



<p>重定基础的黄金法则是:“当你在一个公共分支机构时，永远不要重定基础。”通过这种方式，没有其他人会推动其他更改，并且没有不在本地repo中的提交会存在于远程分支上。所以当你推送的时候，没有删除数据的可能。</p>



<p>如果我的计算是正确的，当这个宝贝达到88英里的时速，你会看到一些严重的饭桶！！</p>
		</div>
				</div>    
</body>
</html>