<html>
<head>
<title>Git Multi Repo vs Git Mono Repo: Which Should You Choose?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Git多回购vs Git单回购:你该选择哪个？</h1>
<blockquote>原文：<a href="https://www.gitkraken.com/blog/git-multi-repo-vs-git-mono-repo#0001-01-01">https://www.gitkraken.com/blog/git-multi-repo-vs-git-mono-repo#0001-01-01</a></blockquote><div><div class="elementor-widget-container">
			
<p>这篇文章是一位客座作者写的。</p>



<p>对于提供各种数字体验的企业和组织来说，代码质量和安全性至关重要。因此，代码的架构——如何存储、访问和构建——至关重要。</p>



<p aria-hidden="true" class="wp-block-spacer"/>





<p aria-hidden="true" class="wp-block-spacer"/>



<p>在这个数字化转型的时代，如果你停滞不前，你就是在倒退。一会儿你在考虑如何发展你的架构来提供全渠道体验；接下来，你会阅读DataBricks 的<a href="https://databricks.com/glossary/hadoop-distributed-file-system-hdfs" target="_blank" rel="noreferrer noopener"> HDFS Hadoop介绍，同时评估大数据对你的业务的影响。技术变革的速度相当快。</a></p>



<p>为了跟上步伐，企业需要不断发展他们的代码。因此Git是世界上使用最广泛的源代码控制管理系统。在软件中，总是有缺陷需要修复，功能需要改进，新特性需要添加，或者新特性需要发布。关于代码存储的架构决策对所有这些行为都有影响，这就把我们带到了Git多回购与Git单回购的问题上。</p>



<p aria-hidden="true" class="wp-block-spacer"/>



<div class="callout">
<div class="callout-content">
<p>无论您如何在Git中存储代码，在与代码交互时，拥有一个高级的可视化工具都会带来很大的不同。今天就免费试用GitKraken Client，包括一次管理多个回购的工作区。<br/></p>

</div>
</div>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2>Git Multi Repo vs Git Mono Repo</h2>



<p>近年来关于Git多边或单一回购方式的相对优势的大辩论反映了这一点。</p>



<p>环顾四周，看看科技巨头们在做什么，这可能很有诱惑力。看看脸书、谷歌、网飞和优步。他们都使用巨大的单声道储存库。所以那一定是最好的方法，对吗？嗯，不一定。这取决于业务。</p>



<p>本文不会给出单一的、一刀切的答案。根本就没有。这取决于诸如企业规模、资源和需求等因素。随着时间的推移，最适合您业务的方法可能会发生变化。而且，对于许多企业来说，某种组合或混合版本可能是合适的。</p>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2>Git单一回购和多重回购方法之间的区别</h2>



<p>什么是单存储库和多存储库存储？这是指一个组织如何在Git中存储其代码，无论是在一个大型Git存储库中，还是在多个较小的存储库中。</p>



<p aria-hidden="true" class="wp-block-spacer">Git Mono Repo</p>



<h3>单存储库方法是指单个位置，或者存储库，包含来自整个企业的多个项目。如2015年的例子所示，谷歌有一个单一的、巨大的<a href="https://www.gitkraken.com/learn/git/tutorials/what-is-a-git-repository" target="_blank" rel="noreferrer noopener"> Git存储库</a>来存放其所有服务的代码。</h3>



<p>大型的mono库可以被组织成<a href="https://support.gitkraken.com/working-with-repositories/project-groups/" target="_blank" rel="noreferrer noopener">目录</a>来提供某种内部结构。</p>



<p>Git Multi Repo</p>



<p aria-hidden="true" class="wp-block-spacer">多存储库方法是将组织的代码分布在多个Git存储库中。存储库的数量会有所不同，但它将基于代码的逻辑分割。例如，可能每个项目都有自己的位置。</p>





<p aria-hidden="true" class="wp-block-spacer">这里的架构决策可以反映并告知企业的整个文化。开发团队行动迅速吗？<a href="https://www.gitkraken.com/blog/git-for-teams" target="_blank" rel="noreferrer noopener">团队</a>是否跨部门协同工作？有明确的所有权界限吗？这些观点都与辩论有关。</p>



<h3>以下是这些方法的一些优点和缺点。</h3>



<p>git mono repo:下一个(c)</p>



<p>这是来自多个项目的代码存储在一个位置的地方，组织中的所有开发人员都使用同一个存储库。</p>



<p>优势</p>



<p aria-hidden="true" class="wp-block-spacer">对于一些企业来说，Git mono repository方法可能提供以下优势:</p>



<h2><strong>可见性和透明性:</strong>所有东西都放在一个地方，更容易搜索整个企业的代码；代码更容易被发现。这可以增加开发人员对其他部门使用的代码的了解，以及这些代码如何支持他们自己的工作。如果一段代码可以重用，或者如果怀疑有错误，就很容易找到并解决。<br/></h2>



<p><strong>支持团队协作:</strong>可以培养更加统一的愿景和协作观。想法可以在不同的项目团队之间传播，代码共享可以帮助减少重复工作。当然，一种真正的合作文化需要更多的东西才能真正扎根。例如，投资合适的<a href="https://www.dialpad.com/blog/conference-call-services/" target="_blank" rel="noreferrer noopener">会议服务</a>等工具会有所帮助，强调牢固的关系也是如此。<br/></p>



<p aria-hidden="true" class="wp-block-spacer">跨越代码体的一致性:一个领域中的变化可能在其他地方，或者跨越整个代码体更有效地执行。变革管理可以变得更加全面，鼓励更充分地考虑其他地方的影响。相反，当代码被分割的更严重时，这可能会更弱，并且技术债务可能会增加，这意味着代码可能会被遗留下来。<br/></p>



<h3><strong>重构:</strong>重构代码——改进代码本身而不改变其外部行为——可以更容易地进行。<br/></h3>



<p>标准化:单一回购方法鼓励更加统一和标准化的编码风格，简化整个流程。它可以潜在地体现团队的高度协作、沟通和一致性。</p>



<ul><li>不足之处</li><li>虽然Git单一回购方法的优势显著，但它也有潜在的缺点，尤其是在业务规模扩大时。</li><li>开发人员应接不暇:所有东西都放在一个地方，代码量可能会非常庞大。事实上，对于新员工或缺乏经验的员工来说，这是一种难以承受的危险。适当的入职和支持线对于用这种方法管理风险至关重要。<br/></li><li><strong>技术上压倒性:</strong>随着mono存储库的增长，不断增加的代码量会带来技术挑战和压力。一个常见的问题是IDE滞后。同样，随着单一回购的增长，<a href="https://www.atlassian.com/git/tutorials/monorepos" target="_blank" rel="noopener"> Git </a>可能很快变得极其缓慢。如果没有合适的工具，大幅扩张的单一回购可能会变得很麻烦。</li><li><strong>更长的构建时间:</strong>随着编码量的增加，构建时间也会大大延长，这又一次减慢了速度。<br/></li></ul>



<p aria-hidden="true" class="wp-block-spacer"><strong>所有权:</strong>如果每个人都能接触到一切，所有权就可能被搅浑。需要清晰的层级和协议来解决这个问题。<br/></p>



<h3><strong>破碎的代码:</strong>Git单一存储库方法有风险。所有东西都在一个地方，一个项目中一个错误的<a href="https://support.gitkraken.com/working-with-commits/search/" target="_blank" rel="noreferrer noopener">提交</a>会影响整个代码体。这会使开发工作尖叫着停止(提示整个业务的开发人员抓耳挠腮，想知道他们做错了什么。)<br/></h3>



<p><strong>紧密耦合的风险:</strong>虽然mono存储库有助于一致性，但这反过来又会诱使实现紧密耦合，从而潜在地导致进一步的问题和不必要的依赖。</p>



<ul><li>开发人员应接不暇:所有东西都放在一个地方，代码量可能会非常庞大。事实上，对于新员工或缺乏经验的员工来说，这是一种难以承受的危险。适当的入职和支持线对于用这种方法管理风险至关重要。<br/></li><li>许多这些缺点可以通过各种工具的开发和业务范围的采用来解决。这就是为什么科技巨头尽管规模庞大，却能够成功采用单一存储库的方法。</li></ul>



<ul><li>但是开发和推广这样的企业工具需要相当多的时间和投资。这可能超出了许多中小型企业的能力范围。适用于谷歌的不一定适用于所有人。</li><li>Git多重回购:利弊</li><li>在Git中，这是将代码拆分到不同存储位置的地方。存储库的数量可能不同，也许每个项目一个。例如，你可能有一个团队的软件帮助演示如何记录手机通话，另一个团队的会议服务项目。根据他们在组织中的角色，开发人员可能在单个项目存储库中工作，或者跨几个项目存储库工作。</li><li>优势</li></ul>



<p aria-hidden="true" class="wp-block-spacer">Git多重回购方法可以提供优势，尤其是当企业从小规模起步时。</p>



<p><strong>更易于管理:</strong>正如上一节所提到的，不断增长的代码量会带来问题(例如，随着存储库的扩大，Git会变得越来越慢)。如果没有工具来解决这个问题，公司可能会转向多存储库来使事情更易于管理。这就是优步从一家小公司成长为中型公司时决定要做的事情。<br/></p>



<p><strong>清晰、透明的所有权:</strong>使用这种方法，作为一名开发人员，很清楚你拥有代码的哪些区域。专注于特定的项目目标会更简单。访问级别可以由存储库结构本身明确定义。</p>



<p aria-hidden="true" class="wp-block-spacer"><strong>中断被隔离:</strong>如果开发人员在代码中引入了意外错误，它只会影响特定存储库中的代码，而不会影响整个业务。一个错误不太可能使所有的开发工作停止。</p>



<h2>对于经验较少和集成较少的开发团队来说更安全 : <strong> </strong>对于经验较少的开发人员来说，更有限的、逻辑定义的存储库可能更安全。同样，如果开发团队之间没有良好的合作和对话文化，一个更清晰的方法可能会更顺利。</h2>



<p>不足之处</p>



<p aria-hidden="true" class="wp-block-spacer">企业确实需要一定数量的代码来让多个Git存储库变得合理。对于非常小的企业或初创企业来说，拆分相对少量的代码可能没有意义。对他们来说，mono库似乎是一个显而易见的开始。但是，正如我们刚刚看到的，随着业务的扩大，多个存储库可以提供优势。</p>



<h3>然而，随着多重回购业务继续增长，以下问题可能会出现。因此，这些企业可能会想，是否是时候转向(或恢复)单一回购方式了。</h3>



<p><strong>随着业务的增长，高开销:</strong>随着业务的增长，管理多存储库方法的开销也会增加。</p>



<ul><li><strong>旷日持久、令人沮丧的工作流程:</strong>在多回购方式下，一个地方的小变化在其他地方进行起来可能会更麻烦。跨多个存储库进行编辑会产生冗长而烦人的工作流。除了效率低下，这也可能是一个<a href="https://www.ntaskmanager.com/blog/employee-unproductivity/" target="_blank" rel="noreferrer noopener">员工效率低下</a>的问题</li><li>孤立和不团结:有培养缺乏广泛意识的狭隘团队的风险。富有成效的合作机会可能会丧失，工作可能会重复。团队可能朝着不同的方向前进，导致低效、不一致和缺乏统一的驱动力。</li></ul>



<ul><li><strong>依赖性混乱:</strong>如果没有mono存储库提供的标准化的真实来源，严重的依赖性问题就会接踵而至。</li></ul>



<ul><li>Git多重回购工具</li></ul>



<p aria-hidden="true" class="wp-block-spacer">如果您正在寻找一个Git multi repo工具来帮助您管理多个存储库，GitKraken Client有一个特性可以让您做到这一点。工作区提供了将多个存储库分组到一个工作区下的能力，并允许团队与新的团队成员共享工作区，以便于入职。</p>



<h3>不足之处</h3>



<p>企业确实需要一定数量的代码来让多个Git存储库变得合理。对于非常小的企业或初创企业来说，拆分相对少量的代码可能没有意义。对他们来说，mono库似乎是一个显而易见的开始。但是，正如我们刚刚看到的，随着业务的扩大，多个存储库可以提供优势。</p>



<p>此外，您甚至可以使用GitKraken Client中的工作区同时跨多个存储库采取行动，例如快速过滤所有由于不活动而“处于危险中”的拉请求，如下所示。</p>



<ul><li><strong>随着业务的增长，高开销:</strong>随着业务的增长，管理多存储库方法的开销也会增加。</li></ul>



<ul><li><strong>旷日持久、令人沮丧的工作流程:</strong>在多回购方式下，一个地方的小变化在其他地方进行起来可能会更麻烦。跨多个存储库进行编辑会产生冗长而烦人的工作流。除了效率低下，这也可能是一个<a href="https://www.ntaskmanager.com/blog/employee-unproductivity/" target="_blank" rel="noreferrer noopener">员工效率低下</a>的问题</li></ul>



<ul><li>如果您的团队目前正在使用Git multi repo方法，那么使用GitKraken Client进行多回购管理和组织会让您的生活更加轻松。<br/></li></ul>



<ul><li><strong>依赖性混乱:</strong>如果没有mono存储库提供的标准化的真实来源，严重的依赖性问题就会接踵而至。</li></ul>



<p aria-hidden="true" class="wp-block-spacer">选择最适合你的Git回购规模</p>



<h2>对于Git单一回购与Git多重回购的争论，没有简单的答案。最终，最佳决策取决于每个特定的业务。</h2>



<p>此外，随着业务的发展，新的挑战可能会使昨天的解决方案看起来像是今天问题的一部分。您的企业开始时可能很小，但是十年后，您已经走向全球，您的架构需求也必然会发展。</p>



<p aria-hidden="true" class="wp-block-spacer">想想优步从单一回购到多重回购，然后又回到单一回购的历程。一旦优步足够富有，投资于克服单一存储库方法的缺点所需的工具，最终的回归是绝对有意义的。然而，没有多少公司会达到这样的规模或地位，所以关注你的业务的独特需求是很重要的</p>





<p aria-hidden="true" class="wp-block-spacer">至关重要的是，有许多混合方法，企业使用单个或多个存储库的组合。一个企业可能有一个单一的存储库用于某个范围的项目或操作，再加上一个范围的多个存储库用于其他特定的项目。</p>



<p>许多企业的经验证明，务实的方法也许是最好的。不要只看你可能敬佩的企业现在在做什么。想想他们的整个旅程，他们所面临的困境，以及他们所做的决定。每个组织都需要适合其自身文化和资源的方法。这是为了支持其各种不断发展的项目，可能需要一种混合的方法。</p>



<p aria-hidden="true" class="wp-block-spacer"/>





<p aria-hidden="true" class="wp-block-spacer"/>



<div class="callout">
<div class="callout-content">
<p>如果您的团队目前正在使用Git multi repo方法，那么使用GitKraken Client进行多回购管理和组织会让您的生活更加轻松。<br/></p>

</div>
</div>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2>选择最适合你的Git回购规模</h2>



<p>对于Git单一回购与Git多重回购的争论，没有简单的答案。最终，最佳决策取决于每个特定的业务。</p>



<p>此外，随着业务的发展，新的挑战可能会使昨天的解决方案看起来像是今天问题的一部分。您的企业开始时可能很小，但是十年后，您已经走向全球，您的架构需求也必然会发展。</p>



<p>想想优步从单一回购到多重回购，然后又回到单一回购的历程。一旦优步足够富有，投资于克服单一存储库方法的缺点所需的工具，最终的回归是绝对有意义的。然而，没有多少公司会达到这样的规模或地位，所以关注你的业务的独特需求是很重要的</p>



<p>至关重要的是，有许多混合方法，企业使用单个或多个存储库的组合。一个企业可能有一个单一的存储库用于某个范围的项目或操作，再加上一个范围的多个存储库用于其他特定的项目。</p>



<p>许多企业的经验证明，务实的方法也许是最好的。不要只看你可能敬佩的企业现在在做什么。想想他们的整个旅程，他们所面临的困境，以及他们所做的决定。每个组织都需要适合其自身文化和资源的方法。这是为了支持其各种不断发展的项目，可能需要一种混合的方法。</p>
		</div>
				</div>    
</body>
</html>