<html>
<head>
<title>Git Pull Force | GitKraken</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>快去拉克兰</h1>
<blockquote>原文：<a href="https://www.gitkraken.com/learn/git/problems/git-pull-force#0001-01-01">https://www.gitkraken.com/learn/git/problems/git-pull-force#0001-01-01</a></blockquote><div><div class="elementor-widget-container">
			
<p>Git pull命令允许您从另一个repo或本地分支获取数据并与之集成。</p>



<p>在您的工作流程中，有时您可能希望强制覆盖本地分支的历史记录和文件，以便与远程分支相匹配。虽然Git有办法做到这一点，但实际上您不会使用Git pull命令。</p>



<p>在讲述如何在命令行中完成相同的事情之前，我们将带您了解如何使用跨平台GitKraken Git GUI强制执行pull来覆盖您的本地分支历史。</p>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2><strong>你为什么会想要Git拉力？</strong></h2>



<p>在您的工作流中可能会出现一些情况，鼓励您强制覆盖您的本地分支。</p>



<p>比方说，您的遥控器上的历史记录与您的本地副本相比发生了巨大的变化；简单地进行Git拉取可能会产生非常混乱的历史、代码冲突，或者两者都有。另一方面，你可能对你的本地回购协议做了许多现在已经无关紧要的改变；也许你和一个团队成员错误地在同一个分支上处理一个bug，他们先解决了它。</p>



<p>简而言之，如果你不关心我们的本地副本的历史，而只想尽快用你的遥控器让你的回购“恢复速度”，你会想要执行Git pull force。</p>



<div class="callout">
<div class="callout-content">
        <p>如果没有GitKraken提供的可视化上下文，在覆盖本地更改时知道您的目标是哪个远程分支可能是一个挑战。<br/></p>
        
    </div>
</div>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2>如何用GitKraken获得拉力？</h2>



<p>在这个Git pull force的例子中，假设您有一个分支的本地副本，它在远程版本的后面。这是中心GitKraken图中的样子:</p>







<p>假设您只想用远程分支所做的任何更改来覆盖本地分支。您不希望执行Git pull，因为这样一来，您的本地副本将同时包含您不希望看到的本地历史和远程更改。</p>







<p>Git pull动作实际上是另外两个Git命令的系列:一个Git fetch后面跟着一个<a href="https://www.gitkraken.com/learn/git/git-merge"/> <a href="https://www.gitkraken.com/learn/git/git-merge" target="_blank" rel="noreferrer noopener" class="rank-math-link"> Git merge </a>。</p>



<p>在这个用例中，Git merge操作是阻止Git pull操作以期望的方式执行的部分；它实际上是将远程分支合并到本地分支，而不是覆盖更改，保留了两个组的<em>更改。这也可以为一些龌龊的<a href="https://www.gitkraken.com/learn/git/tutorials/how-to-resolve-merge-conflict-in-git"/> <a href="https://www.gitkraken.com/learn/git/tutorials/how-to-resolve-merge-conflict-in-git" target="_blank" rel="noreferrer noopener" class="rank-math-link">饭桶合并</a>的冲突打开大门。😱</em></p>



<p>GitTip:查看Git pull和Git fetch 之间的<a href="https://www.gitkraken.com/learn/git/problems/git-pull-vs-fetch"/> <a href="https://www.gitkraken.com/learn/git/problems/git-pull-vs-fetch" target="_blank" rel="noreferrer noopener" class="rank-math-link">差异，理解每个命令是如何工作的。</a></p>



<p>那<code>git pull --force</code>呢？虽然看起来这个命令会产生一个Git pull force，但是将<code>--force</code>标志添加到Git pull命令实际上只是将标志传递给了<code>git fetch</code>，使其成为一个Git fetch force。</p>



<p>所以这实际上会产生与单独使用<code>git pull</code>相同的结果。</p>



<p>要强制您的本地分支被GitKraken中的远程覆盖，您将采取以下步骤:</p>



<p>1.fetch——你可以通过点击顶部工具栏中方便的<code><kbd>Fetch</kbd></code>按钮在GitKraken中执行Git fetch。</p>







<p>您也可以在GitKraken中通过右键单击左侧面板中的遥控器来执行Git获取。</p>







<p>2.直接在图形中双击远程ref。</p>







<p>3.出现提示时，选择GitKraken UI顶部的<code><kbd>Reset Local to Here</kbd></code>。</p>







<p>嘣！💥任务完成！您已经使用GitKraken Git客户端强制覆盖了您的本地历史。是的，真的很简单。</p>



<p>您可以通过注意到您的本地分支与您的中心图中的远程历史相匹配来验证操作是否成功执行。</p>







<p>GitKraken在覆盖Git中的本地罚款和更改时，提供了许多优于命令行的好处，包括更好地可视化表示正在执行的操作和分支。</p>



<div class="callout">
<div class="callout-content">
        <p>强制覆盖本地更改可能是一个危险的操作。GitKraken的一键撤销/重做保护开发者免于常见错误。<br/></p>
        
    </div>
</div>



<p aria-hidden="true" class="wp-block-spacer"/>



<h2>如何在命令行中获得拉力？</h2>



<p>在CLI中强制本地分支被远程覆盖的过程类似。</p>



<ol><li>您将从执行Git获取开始。</li></ol>







<p>2.接下来，您需要为您想要从中提取更改的远程分支找到提交SHA:</p>



<p><code>git rev-parse &lt;remote-branch-name&gt;</code></p>



<p>(<code>git rev-parse</code>比跑<code>git log &lt;remote-name&gt;</code>或<code>git log &lt;branch-name&gt;</code>快)</p>







<p>3.然后您将使用<code>git reset --hard</code>,后跟遥控器的当前提交SHA。这会将您的本地分支重置为远程分支。</p>



<p>🚨警告🚨<code>git reset --hard</code>命令被认为是高度危险的，因为它将破坏本地分支上的所有工作，包括已提交和未提交的更改。因此，在执行此操作之前，一定要确保您希望放弃本地分支的更改。</p>



<div class="callout">
<div class="callout-content">
        <p>GitKraken包括破坏性操作的验证提示，如Git硬重置，因此您可以避免灾难性的错误。<br/></p>
        
    </div>
</div>



<p aria-hidden="true" class="wp-block-spacer"/>



<p>4.此时，因为您缺少GitKraken图提供的可视化上下文，所以您需要验证您的本地分支和远程分支是否指向相同的提交。</p>



<p><code>git diff &lt;local-branch-name&gt; &lt;remote-branch-name&gt;</code></p>







<p>如果它们<em>而不是</em>指向同一个提交，您将会看到类似这样的内容:</p>







<p>有时候，如果你离遥控器太远，在本地覆盖你的修改会更快。借助于用于Windows、Mac、&amp; Linux的跨平台<a href="https://www.gitkraken.com/git-client"/> <a href="https://www.gitkraken.com/git-client" target="_blank" rel="noreferrer noopener" class="rank-math-link"> GitKraken Git客户端</a>，强制覆盖本地更改并不一定是令人生畏或具有破坏性的。</p>
		</div>
				</div>    
</body>
</html>