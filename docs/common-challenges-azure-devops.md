# 使用 Azure DevOps 的常见挑战

> 原文：<https://www.gitkraken.com/blog/common-challenges-azure-devops>

您的组织正在经历 DevOps 转型吗？也许你甚至被指派负责这个项目。当然，这种转变的一部分将包括源代码控制管理。

越来越多的企业使用 Git 来管理他们的代码和文件变更。对于大型团队，尤其是那些偏向于微软强大的开发工具套件的团队，最受欢迎的 Git 托管服务之一是 Azure DevOps。

但是采用 Git，然后在您的组织内成功地扩展它以达到您的 DevOps 转换目标，看起来可能是一个不可完成的任务。别担心。我们有您的过渡到 Git 的剧本，成功地利用 Azure DevOps 作为您的 Git 托管服务，以及 [GitKraken Git 客户端](https://www.gitkraken.com/git-client)如何帮助解决开发人员和团队共同面临的相关挑战。

****查看 2020 年 DevOps 工具报告中 Azure DevOps 和 GitKraken 如何融入 DevOps 生命周期。****

[**阅读报告**](https://www.gitkraken.com/resources/devops-report-2020)

已经在 Git 上了？你可以[跳下来了解更多关于使用 GitKraken 和 Azure DevOps](#GitKraken-Azure-DevOps) 的信息。

迁移到 Git

## 无论您目前使用的是 SVN、Perforce 还是 TFS，迁移到 Git 都需要额外的开销。[了解如何将版本控制从 Perforce 迁移到 Git](/blog/migrating-perforce-git) 。

这样的转变需要组织、准备和一些耐心。😅但是，拥有一个像 GitKraken 这样强大的 Git GUI，不仅可以使代码迁移和数据传输更快，还可以让您的团队在完成全面检查后立即开始使用 Git。了解如何将您的版本控制从 SVN 迁移到 Git 。

相信我们；这是非常值得的。

让团队成员加入 Git

就像任何新事物一样，您的团队需要时间来适应学习 Git。但幸运的是，有许多资源可以帮助您的开发人员快速启动并运行更高效的工作流。

## *访问我们的 [Learn Git 数据库](/learn/git),访问所有经验水平的 Git 教程和教育资源。*

对于经理和产品所有者来说，幸运的是，在你的公司里，你很可能已经有了一个 Git 冠军。雇佣他们来帮助他们的同事了解过渡到 Git 的好处。

虽然学习 Git 命令对开发人员的基础知识是有益的，但他们的时间最终花在编程上比花在记忆命令上要好得多。这就是 GitKraken 的 GUI 方法的用武之地。

类似于操作系统通过提供用于管理应用程序、拖放文件和点击图标来执行操作的用户界面而变得更加视觉化和直观，使用 GitKraken Git GUI 的开发人员将提高他们的工作效率，减少错误，并在日常工作流程中变得更加自信。

虽然学习 Git 命令对开发人员的基础知识是有益的，但他们的时间最终花在编程上比花在记忆命令上要好得多。这就是 GitKraken 的 GUI 方法的用武之地。

使用 Git 采用新的工作流程

Git 将为您的开发团队和流程打开一个全新的世界。如果你想在飞毯上跳跃，我们不会责怪你。

## 最好的新工作流机会之一涉及到克隆存储库。当使用 Azure DevOps 时，用户有两种选择来克隆 Git repo。您可以选择通过 CLI 使用`git clone`命令，或者更简单地使用 Git 客户机，如 GitKraken。

Git 将为您的开发团队和流程打开一个全新的世界。如果你想在飞毯上跳跃，我们不会责怪你。

使用 Azure DevOps 克隆您的 Git Repo

Git 最好的部分可以说是它让团队协作变得多么容易。Git 的分布式特性提供了其他版本控制系统中没有的选项，特别是克隆存储库的能力。

### 这使得单个开发人员可以将整个工作项目复制到他们的本地机器上，并与团队成员并行工作。无需请求许可或等待签出文件或推送更改。此外，克隆的回购协议为开发人员提供了一个沙箱，在不影响原始代码库的情况下进行试验。

Git 中的常见做法是在 Git 托管服务(如 Azure DevOps)上指定主项目，即最终成为最终版本的项目副本。在 Azure DevOps 上托管存储库使得具有适当权限的合作者更容易访问项目。

这使得单个开发人员可以将整个工作项目复制到他们的本地机器上，并与团队成员并行工作。无需请求许可或等待签出文件或推送更改。此外，克隆的回购协议为开发人员提供了一个沙箱，在不影响原始代码库的情况下进行试验。

使用 Azure DevOps 验证您的 Git Repo

在 GitKraken 中打开或克隆 Azure DevOps Git 存储库之前，您需要首先设置集成。你可以通过导航到一个`New Tab`并点击`Start a hosted repo`下的`on Azure DevOps`按钮开始。

### GitKraken 随后会要求您提供 Azure DevOps repo 的主机域。只需将域复制并粘贴到必填字段中。

在我们的分步教程中查看集成 Azure DevOps & GitKraken 的过程:

[https://www.youtube.com/embed/cCSKKQo7brA?start=33&feature=oembed](https://www.youtube.com/embed/cCSKKQo7brA?start=33&feature=oembed)

视频

在我们的分步教程中查看集成 Azure DevOps & GitKraken 的过程:

生成您的 Azure DevOps Git 凭据

使用 Git 时，有时会提示您输入用户凭证来执行操作。这可能需要通过 HTTPS、 [SSH 密钥](/learn/git/tutorials/how-git-ssh-works)或通过个人访问令牌(PAT)访问远程回购的用户名和密码。

### 当你在 GitKraken 中的请求字段中输入你的 Azure DevOps 域后，我们的 Git 客户端会给你一个直接在 Azure Devops 上生成你的个人访问令牌的快捷方式。

一旦与 Azure DevOps 建立连接，您将获得一个额外的选项来生成 SSH 密钥，您可以将该密钥复制到您的剪贴板并粘贴到您的 Azure DevOps 帐户中。一旦你将新密钥添加到 Azure DevOps 中，它将立即反映在 GitKraken 中。

在 GitKraken 中生成 Git 凭证的能力使用户不必手动创建 SSH 密钥对。

一旦与 Azure DevOps 建立连接，您将获得一个额外的选项来生成 SSH 密钥，您可以将该密钥复制到您的剪贴板并粘贴到您的 Azure DevOps 帐户中。一旦你将新密钥添加到 Azure DevOps 中，它将立即反映在 GitKraken 中。

用 GitKraken 克隆您的 Azure DevOps Repo

一旦您成功地将 GitKraken 与 Azure DevOps 集成，您就可以开始克隆您的远程 repo 的本地副本了！

### 克隆在 Azure DevOps 上托管的远程存储库和您的本地机器之间建立连接，允许在两个存储库之间进行推和拉操作。可以在同一个遥控器上制作多个克隆，使您的团队能够在不损害原始代码完整性的情况下进行协作。

你不仅可以通过 GitKraken 克隆 Azure DevOps 远程，这种集成还允许你添加新的远程存储库。只需点击左侧面板中`Remote`部分的`+`按钮，并从主机的可用遥控器填充列表中进行选择。

了解有关通过 GitKraken 的 Azure DevOps 集成添加远程设备的更多信息:

[https://www.youtube.com/embed/cCSKKQo7brA?feature=oembed](https://www.youtube.com/embed/cCSKKQo7brA?feature=oembed)

视频

了解有关通过 GitKraken 的 Azure DevOps 集成添加远程设备的更多信息:

使用 Azure DevOps 在 Git 和 GitKraken 中进行分支

Git 和 GitKraken 用我们的分支特性打开了大量新的工作流可能性。开发人员被授权探索他们的存储库历史的分支之间的选项，为他们提供更多的灵活性和自由，而不会丢失重要的过程。

### 例如，假设您想从 Azure DevOps 的远程存储库中获取一个新的变更，并将其下载到 GitKraken 的本地 repo 中。您将通过执行**获取**来检测更改，然后您将执行**拉取**来将更改带到您的本地回购。

或者，假设您想要在本地存储库上进行新的更改，并将它们应用到远程存储库。这包括执行一次**推送**。

一旦您的本地分支有了您想要推送到遥控器的更改，只需点击顶部工具栏中的`Push`按钮。然后 GitKraken 会提醒你这个分支在遥控器上不存在，并确认你想要添加它。

或者，假设您想要在本地存储库上进行新的更改，并将它们应用到远程存储库。这包括执行一次**推送**。

使用 Azure DevOps 拉取请求

我们刚刚学习了如何执行从 GitKraken 到 Azure DevOps 的推送。正是在工作流的这一点上，拉请求开始发挥作用。

### 拉请求是 Git 不可或缺的一部分；它们帮助您利用使用版本控制的预期好处。如果您正在使用 Git，您很可能会遇到以下情况:您对一个克隆的存储库进行了本地更改，然后您将这些更改提交给项目维护人员，以便在它们被实现或合并之前进行审查。

本质上，拉请求就像它听起来的那样:您请求某人在您的更改成为最终更改之前对其进行审核和批准。

在这个中级教程中，了解更多关于 Git 中的 [pull 请求。](/learn/git/tutorials/what-is-a-pull-request-in-git)

GitKraken 为您提供了启动拉请求的多个选项。您可以简单地从左侧面板的`Pull Request`部分点击`+`按钮，或者您可以将带有您想要推送的变更的分支拖放到您想要从中央提交图推送的分支上。如果您选择后者，GitKraken 将预先填写您的[拉请求模板](/blog/enhancing-pull-request-descriptions-templates)。

GitKraken 还为您提供了直接在 Azure DevOps 上查看 pull 请求的快捷方式，您可以在那里继续代码审查过程。

如果一切正常，代码评审员将执行**合并**！变更既可以从 Azure DevOps 合并，也可以从 GitKraken 合并；这种集成将确保拉请求在两个应用程序中都得到更新。

维护安全标准

任何传输或托管数据的技术团队都普遍关注安全性。我们之前讨论过 GitKraken 如何帮助 Azure DevOps 用户生成他们的 Git 凭证，包括 SSH 密钥(生成 pat 是托管服务的责任)。这些将在维护团队代码的安全性方面发挥不可或缺的作用。

使用代理服务器

## 当使用 Azure DevOps 和 Git 时，一些用户在处理代理服务器时会遇到问题。根据您团队的配置设置，Azure DevOps 集成可能无法与某些代理设置一起工作。然而，大多数设置都可以直接通过 HTTPS 和 SSH 很好地工作，这意味着您的团队仍然可以访问您的存储库，并且能够使用所有传统的 Git 命令。

任何传输或托管数据的技术团队都普遍关注安全性。我们之前讨论过 GitKraken 如何帮助 Azure DevOps 用户生成他们的 Git 凭证，包括 SSH 密钥(生成 pat 是托管服务的责任)。这些将在维护团队代码的安全性方面发挥不可或缺的作用。

Azure DevOps 的致命身份验证问题

### 一些 Azure DevOps 用户在第一次设置 GitKraken 和 Azure DevOps 之间的集成时会遇到问题。

如果在完成集成后，在尝试执行推送时陷入授权循环，您可能会看到以下消息:`Your OAuth token for “Azure DevOps” is invalid`。这可能意味着您的身份验证令牌出现了问题。在这种情况下，我们建议采取以下步骤:

尝试手动断开集成。进入首选项→身份验证→Azure DevOps，点击`Disconnect`。

### 直接在您的默认 web 浏览器中注销您的 Azure DevOps 帐户。

尝试再次连接 Azure DevOps 集成。这将强制您登录并更新 OAuth 令牌。

如果在完成集成后，在尝试执行推送时陷入授权循环，您可能会看到以下消息:`Your OAuth token for “Azure DevOps” is invalid`。这可能意味着您的身份验证令牌出现了问题。在这种情况下，我们建议采取以下步骤:

1.  如果上述建议不能解决问题，我们建议您删除本地机器上文件系统中的`.gitkraken`文件夹。这将移除您所有的鉴定设置、描述文件和应用程序，使您能够重新开始。为此，我们建议采取以下步骤:
2.  关闭您的 GitKraken 应用程序。
3.  找到您的`.gitkraken`文件并删除它。或者，您可以将其移动到另一个位置进行备份。您的文件应该位于:

视窗:`c:\users\{USER}\appdata\roaming\.gitkraken`

Mac: `/Users/{user}/.gitkraken or ~/.gitkraken`

1.  Linux: `~/.gitkraken`
2.  重新打开 gitkraken。
    1.  请使用新的个人访问令牌设置 Azure DevOps 集成，然后重试。
    2.  Mac: `/Users/{user}/.gitkraken or ~/.gitkraken`
    3.  如果您在完成上述步骤后仍然收到此错误，我们建议您联系位于[support@gitkraken.com](mailto:support@gitkraken.com)的 GitKraken 支持团队。请注意:只有 [GitKraken Enterprise 和 Pro](https://www.gitkraken.com/pricing) 客户才能在 24 小时内获得有保证的电子邮件支持。
3.  重新打开 gitkraken。
4.  使用 Azure DevOps 和 GitKraken 扩展

现在，您已经准备好开始使用 [Azure DevOps](https://www.gitkraken.com/resources/devops-report-2020#azure-devops-code) 和 GitKraken 在您的组织中实现 Git。如果您遇到任何问题，最好的跨平台 Git GUI 可以帮助您。

GitKraken & Azure DevOps 资源:

## 使用 Azure DevOps 和 GitKraken 扩展

现在，您已经准备好开始使用 [Azure DevOps](https://www.gitkraken.com/resources/devops-report-2020#azure-devops-code) 和 GitKraken 在您的组织中实现 Git。如果您遇到任何问题，最好的跨平台 Git GUI 可以帮助您。

GitKraken & Azure DevOps 资源: