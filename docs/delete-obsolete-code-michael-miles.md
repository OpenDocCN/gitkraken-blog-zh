# 删除过时代码| GitKon 2022 |迈克尔·迈尔斯，麻省理工学院斯隆商学院

> 原文：<https://www.gitkraken.com/gitkon/delete-obsolete-code-michael-miles>

[https://www.youtube.com/embed/wWAxzim0EkA?feature=oembed](https://www.youtube.com/embed/wWAxzim0EkA?feature=oembed)

视频

每个活动代码库包含两种类型的代码:活动代码和过时代码。活动代码包括交付项目解决方案的变量和函数。过时的代码就是其他一切:无助于解决项目独特问题的未使用的变量和函数。

代码库必须只包含交付预期功能所需的代码，仅此而已。

使用像 GitKraken Client 这样的工具将会增加您的代码库的可见性，因此您可以快速识别过时的代码，并轻松地删除它以防止出现问题。

## **过时代码的问题**

过时的代码会给开发人员和最终用户带来各种各样的问题。

### **可读性降低**

应该清楚一个变量、函数、对象等。正在被使用和它解决什么目的。过时的代码会降低代码库的可读性，从而使开发人员更难理解代码是如何工作的。

这可能需要更多的时间来维护和更新代码库以满足项目需求，并且还会降低开发团队在进行更改时的信心。

### **复杂性增加**

将过时的代码留在原处需要开发人员构建变通解决方案，这给代码库增加了不必要的复杂性。这可能会导致意外的输出和功能。

随着项目复杂性的增加，维护项目代码的难度也在增加。代码库将变得脆弱，项目团队将无法维护它来满足不断变化的需求。

### **未知漏洞**

将使用代码库中所有可访问的代码，不管它是活动的还是过时的。执行过时的代码会导致意外的结果并暴露漏洞。通过意外调用过时的函数，开发人员可能会产生不正确的数据，而攻击者可能会执行过时的代码并暴露敏感信息。

## **删除废弃代码**

防止由过时代码引起的问题发生的最安全的方法是删除它。不是绕过它，不是注释掉它，而是删除它。

虽然很难有把握地删除过时的代码，但开发人员可以使用各种技术来建立代码删除信心，包括代码林挺、对代码进行评论、尽早提交并经常提交，以及经常进行测试。

**代码林挺**

### 大多数集成开发环境(IDE)都提供代码林挺功能，大多数编程语言和框架都有插件来提供额外的林挺功能。

通过为函数中未使用的变量提供警告，或显示函数的引用树，或显示缺少引用树，实现代码标记有助于开发人员识别过时的代码。

**代码注释**

编写描述性和信息性的代码注释增加了代码的可读性。这有助于其他开发人员理解代码工作流和目的。

### 养成记录代码的习惯使得审查和重构更加容易。这允许开发人员识别重复和过时的代码。

编写描述性和信息性的代码注释增加了代码的可读性。这有助于其他开发人员理解代码工作流和目的。

**尽早提交，经常提交**

当使用诸如 Git 之类的代码[库时，经常提交作为一种跟踪代码库中变化的方式是很有帮助的。这使得跟踪代码何时被添加或删除变得更加容易。](https://www.gitkraken.com/learn/git/tutorials/what-is-a-git-repository)

### 通过查看[提交消息](https://www.gitkraken.com/learn/git/best-practices/git-commit-message)，开发人员可以对他们恢复删除代码的能力充满信心。检查提交消息比扫描文件中被注释掉的代码块并取消提交要容易得多。

当使用诸如 Git 之类的代码[库时，经常提交作为一种跟踪代码库中变化的方式是很有帮助的。这使得跟踪代码何时被添加或删除变得更加容易。](https://www.gitkraken.com/learn/git/tutorials/what-is-a-git-repository)

**测试，测试，测试**

代码库上发生的任何变化都需要测试。测试可以以多种形式进行，从功能单元测试到手动冒烟测试和自动回归测试。

### 有了测试，开发人员可以对他们所做的代码更改充满信心。测试确保删除的代码是过时的，并且不会导致意外的结果。

代码库上发生的任何变化都需要测试。测试可以以多种形式进行，从功能单元测试到手动冒烟测试和自动回归测试。

**自信地删除你过时的代码**

当开发团队花时间重构他们的代码库并删除过时的代码时，他们会看到许多积极的结果。代码库并不过分复杂，更容易阅读，并且维护和包含较少数量的漏洞。

## 删除过时的代码后，代码库只包含满足需求所需的代码，仅此而已。然后，开发团队能够将精力集中在维护满足项目需求的活动代码上。

当开发团队花时间重构他们的代码库并删除过时的代码时，他们会看到许多积极的结果。代码库并不过分复杂，更容易阅读，并且维护和包含较少数量的漏洞。

使用 GitKraken Client 轻松维护您的代码库并删除过时的代码，提高项目历史的可见性并简化团队协作。

使用 GitKraken Client 轻松维护您的代码库并删除过时的代码，提高项目历史的可见性并简化团队协作。