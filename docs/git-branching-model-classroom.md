# 探索教室的 Git 分支模型

> 原文：<https://www.gitkraken.com/gitkon/git-branching-model-classroom>

[https://www.youtube.com/embed/NgFekb1zDmg?feature=oembed](https://www.youtube.com/embed/NgFekb1zDmg?feature=oembed)

视频

在 2021 [GitKon Git conference](https://gitkon.com/) 的一场会议中，哈特福德大学的教授 Roy Vanegas 分享了他如何在课堂上使用 Git 和 GitHub。使用 Git，Roy 已经成功开发了可复制的 Git 分支模型，用于课堂友好的工作流、评分和分配作业的方法。

教师可以在更传统的课堂环境中使用这些策略，管理人员也可以使用这些策略来促进专业发展，技术兴趣小组的领导者可以使用这些策略来分享知识，等等。

GitKraken 通过 GitHub 教师工具箱为教师免费提供我们的 GitKraken Client Pro！PS:学生还获得免费资源！

[Get GitKraken Free for Teachers](/teacher-resources)

## **与 Git 和 GitHub 共享任务**

### **创建一个“不在这里工作”的主 Git 分支**

如果您想使用 Git 与学生共享作业，首先创建一个默认的本地 [Git 存储库](https://www.gitkraken.com/learn/git/tutorials/what-is-a-git-repository)。接下来，[创建一个名为“不要在这里工作”的 Git 分支](https://www.gitkraken.com/learn/git/problems/create-git-branch)，并将该分支推送到您在 GitHub 上的共享库。

您需要将新的“不要在这里工作”分支作为您的主分支。要在 GitHub 中做到这一点，你可以选择“设置”->“分支”->“主”->然后选择“不要在这里工作”->“更新”。

[观看此视频](https://youtu.be/NgFekb1zDmg?t=310)跟随 Roy，了解他如何创建“不在此工作”分支并将其设置为默认。

确保你的主要分支机构的标题是“不要在这里工作”,这只是确保学生不会意外地开始在主要分支机构工作。最终，每个学生都将拥有自己的名字写在上面的 [Git 分支](https://www.gitkraken.com/learn/git/branch)，从而降低了破坏其他学生代码的风险。

将“不在此工作”分支变成新的“主”分支后，删除原来的主分支。您可以通过运行以下命令来实现这一点:

`git branch -d main`->-`git push origin --delete main`->-`git push origin --delete main`

或者，您可以[重命名主分支](https://www.gitkraken.com/learn/git/problems/rename-git-branch)，而不是创建一个新的分支。不管你如何完成这个，目标是有一个主分支，明确地指导学生不要在它里面做任何改变。

### **为每个学生创建一个 Git 分支**

接下来，使用脚本收集学生数据，包括名字、姓氏和 GitHub 用户名。这将允许您为每个学生创建一个分支。使用这些信息来创建他们的分支将有助于避免两个学生使用相同名称时产生的混淆。

学生分支名称示例:`linus-torvalds-linux-inventor`

上图是一个虚构学生列表的示例，每个学生都有自己的分支。

最后，指导您的学生上网，访问项目，并分叉分支。每个学生将分支分入他们的 GitHub 帐户后，他们就可以开始工作了！

## **使用 Git 和 GitHub 提交作品**

在布置作业时，你应该给出具体的指示，要求学生将项目作为一个主要文件上交。如果学生计划提交附加文件，这些文件必须是主文件的依赖项。这简化了浏览每个学生提交内容的过程，并使学生提交内容的评分速度更快。

当学生准备提交他们的作品时，他们提交一个 [GitHub pull 请求](https://www.gitkraken.com/learn/git/problems/github-pull-requests)。从教师的角度来看，这使得浏览和分析所有分支以确保它们是正确的变得非常容易。一旦准确性得到验证，教师就可以接受到共享的 GitHub 存储库中的 pull 请求。

将所有学生项目放在一个共享存储库中的另一个好处是能够在课堂上方便地展示学生作业的例子。你可以在同一台机器上展示尽可能多的项目，而不是让每个学生单独连接他们的电脑。

## **Git 教室中的协作**

Git 课堂策略的另一个独特的好处是学生能够协作。虽然每个学生都必须上交自己的独特作业，但他们可以从其他同学的分支中寻找灵感。这确实有风险，因为老师必须相信他们的学生会实践荣誉制度，或者有制度来确保没有人滥用制度和直接抄袭作业。

参考其他人的工作并观察其他人如何解决问题的能力对于 Git 课堂工作流来说是一个巨大的好处。这不仅是一种有益的课堂实践，这种工作流程还模仿了现实世界中开发人员与其团队的互动方式，这使其成为一种理想的实践，为他们进入劳动力市场做好准备。

## **用 Git Diff 检测作弊**

不幸的是，作弊和学术不诚实在许多课堂上发生，这要求教师建立保护措施和程序来检测这种行为。当使用 Git 和 GitHub 给学生项目评分时，可以运行一个脚本来检测分支之间的相似性。

要比较分支，运行`git diff`后跟每个分支名称，每个分支对应一个您想要评估的学生。该命令返回项目之间的所有差异，并允许教师快速确定是否发生了任何作弊行为。

如果命令显示了各种差异，很可能没有作弊，但是如果命令没有返回差异，很明显一个或多个有匹配项目的学生作弊了。这个过程快速、方便，并且允许指导者清楚地识别作弊是否已经发生。

 *独特作品的例子*

*检测到作弊的例子–无差异*

GitKraken 客户端中的 diff 工具使您能够做出更明智的决策，因此您可以执行高级 Git 操作，如 rebase，功能更强大，风险更低。

## **与 Git 和 GitHub 分享示例**

在课堂上展示和分享例子是开始使用 Git 课堂工作流的最有说服力的理由之一。想象一下:每天来上课时，学生们在他们的机器上启动 [GitHub 桌面](https://www.gitkraken.com/compare/gitkraken-vs-github-desktop)，或另一个 Git 客户端，如 [GitKraken 客户端](https://www.gitkraken.com/git-client)，并打开与当天讲座相关的范例库。每当老师对示例回购进行新的修改时，学生们可以[执行 Git pull](https://support.gitkraken.com/start-here/guide/) 并立即在他们的电脑上看到示例。

这种共享代码示例的过程有一些主要的优点。学生可以实时查看代码，而不是努力写出错综复杂的代码行和复杂的命令。该工作流程还允许教师通过让学生自己进行 [Git 提交](https://www.gitkraken.com/learn/git/commit)来添加到示例中，从而强化学习原则。

概括来说，学生应该在到达教室后执行以下步骤:

1.  启动他们的 Git 客户端，比如 GitKraken 客户端
2.  启动他们的代码编辑器
3.  通过拉、取和刷新来更新他们的示例副本

这种工作流程的最大优势在于它给学生提供了更多的时间来记下代码及其背后的原理，而不是试图跟随并逐字逐句地复制随机代码。

## **轻松归档存储库以备将来使用**

使用这种 Git 工作流的一大优势是归档存储库非常方便。一旦教师结束了一节课，他们可以将存储库标记为私有，并保留它，直到他们在未来的课上再次需要它，或者出于其他目的需要引用它。这个工作流程为所有事情创建一个记录。讲师使用的每一堂课、每一个例子和每一个其他资源都可以很容易地保存下来，供将来参考。

事实上，最近另一所大学的一位教授联系了罗伊，请他帮忙找出一个可能是以前的学生学术欺诈的例子。Roy 能够浏览旧的成绩和作业，并很快收集到另一位教授要求的信息，即使这位学生已经很久没来上课了。

## **克服 Git 学习曲线**

Git 的学习曲线可能会很陡，如果学生从未使用过类似的技术，学习起来可能会特别困难。从教师的角度来看，教学可能很有挑战性。虽然您可以进行深入的讲座，但从根本上来说，Git 可能是一个令人困惑的学习系统。

认识到这一点很重要，Git 教室的工作流程是一种完全不同的使用 Git 的方式，不同于你在私营部门中常见的任何方式。即使是有经验的 Git 用户，在开始时也很难习惯这种独特的项目设计。

但是随着时间的推移，有了足够的有用资源，你和你的学生可以克服学习 Git 的挑战。

Git 的学习曲线可能会很陡，但是花时间去理解 Git 概念将会在未来的几年中对你大有裨益。GitKraken 的学习资源将帮助您和您的团队了解基础知识和高级操作，让您对工作流程更有信心。

[Learn Git with GitKraken](/learn/git)

## **工作时的时间戳**

在课堂上使用 Git 的另一个好处是能够通过时间戳查看学生何时完成、完成和提交作业。比方说，你有一个不接受任何迟交作业的政策，但是一个学生坚持说他们因为某种原因不能提交。

您可以很容易地查看他们的系统，并运行一些类似于`git log`的命令来查看最后一次提交是何时执行的，并将该信息与指定的到期日期进行比较。在与学生一起工作时不可避免地会出现各种复杂的情况，在工作中使用时间戳会很有帮助。

## **在 Git 中搜索大型项目可能会很复杂**

在课堂上使用 Git 有一些缺点。首先，很难找到学生上交的文件。如果您在本地操作系统上使用内置搜索来查找特定文件，您需要确定您正在哪个分支上工作。

同时搜索文件和分支会很快变得复杂。这就是为什么需要熟练理解如何使用 Git 命令行来接受这种方法，这对于不熟悉 Git 的人来说是很困难的。

## **使用 Git 和 GitHub 访问课程材料**

如果学生错过了课程，他们仍然可以访问他们错过的代码和课程材料。他们只需访问 GitHub 上的类库，更新他们的本地类库，当天共享的任何代码现在都可以在他们的本地机器上获得。

虽然每个教师可能有不同的出勤政策，但至少使用这种模式，学生有能力跟上课程材料。

## **实施 Git 课堂模型**

概括地说，Git 课堂工作流程遵循以下大纲:

1.  给每个学生分配他们自己的 Git 分支
2.  教师在课堂上使用 GitHub repo 示例展示示例
3.  学生通过提交 GitHub pull 请求来提交作业
4.  学生通过查看彼此的项目来相互协作和学习
5.  教师用 Git 和 GitHub 对提交的内容进行评分和比较

虽然在 Git 的密集学习曲线下，这可能是一个很难实现的过程，但如果正确利用，这个工作流对学生和教师来说都会变得非常有效。允许学生在课外查看来自同龄人和教师的示例，可以确保课堂上的时间用于提问和深入材料，而不是简单地捕捉表面笔记。最终，在课堂上使用 Git 模型可以创建一个身临其境的动手环境，让学生真正学习 Git。

如果你正在寻找更多的方法来教学生如何使用 Git，试试 GitKraken 客户端。这款传奇的 Git 工具以其漂亮的视觉效果、直观的操作和团队功能使[学习 Git](https://www.gitkraken.com/learn/git) 变得简单——此外，还可以查看给[学生](https://www.gitkraken.com/student-resources)和[教师](https://www.gitkraken.com/teacher-resources)的免费资源。👀