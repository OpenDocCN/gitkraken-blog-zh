# Git | Axosoft 中重置基础的黄金法则

> 原文：<https://www.gitkraken.com/blog/golden-rule-of-rebasing-in-git>

使用 Git 时，重定基础是一个经常出现的话题。很多时候，重定基导致不得不进行强制推送，这使得一些人对重定基持谨慎态度。没必要担心！一旦你理解了为什么强制推进是必要的，以及如何负责任地调整基数，你会感觉更舒服。

那么，什么是重定基，在 Git 中如何重定基呢？重定基础就是简单地获取在其他地方进行的变更，将它们合并到您的分支中，然后在新的基础上重新执行您的所有变更。

> 重定基础的黄金法则是:“当你在公共部门工作时，千万不要重定基础。”

事实上，你在改变提交历史，医生告诉我们这会带来灾难性的后果。(尤其是碰到未来的自己。)

所以，让我们放点休易·路易斯，听听 repeat 上的*爱情的力量*，深入一个以*回到未来*为特色的例子。如果你甚至在考虑使用 CLI…我们要去的地方，我们不需要命令行！

时间线

## 我在 GitKraken 做了一个新的 repo，一个[跨平台的 Git GUI](https://www.gitkraken.com/) ，特色是一些从*回到未来*的主要情节点。首先，马蒂被送回 1985 年。您将看到我创建了一个新的时间线分支，其中有几个提交，代表随后的事件。然后，我把时间线分支推上了 GitHub。

马蒂被送回过去，在那里他经历了一些起起落落。

马蒂被送回过去，在那里他经历了一些高潮和低谷。

这条时间线分支最终引导马蒂成功回到了未来，并以恶霸毕夫给马蒂爸爸的宝马打蜡而愉快地结束；另外马蒂有一辆全新的丰田 4×4。耶！每个人都喜欢幸福的结局！

然而，回到`master`，还有另一个变化，格雷斯运动年鉴被添加到图片中。(啊哦…毕夫要把世界变成一个非常丑陋的地方……)

如果我在`master`的顶部重设时间线，(通过拖动左边的`timeline`标签，在`master`标签的顶部，并选择`rebase timeline into master` ) GitKraken 将重放我所有的提交，在`master`的最后一次提交之上，以同样的顺序。

你可能知道，这一行动影响了未来，比夫成为一个玩弄女性的亿万富翁赌场老板，并娶了马蒂的妈妈。(与现任总统候选人的任何相似之处纯属巧合，但我跑题了。)

比夫有机会接管这个世界……而且确实如此。

比夫有机会接管这个世界……而且确实如此。

回到我的远程`timeline`分支，你会看到我仍然拥有快乐时间线中发生的所有事情，但是在本地我们有不同的提交历史。

因此，GitKraken 不会允许简单的推动。Git 只允许推送新的提交，不能将其他提交插入到 Git 历史中，这就是为什么我必须进行强制推送。**force push 实际上是用我们本地的分支取代了远程分支。**

现在，这就是一些麻烦出现的地方。如果我用本地的分支替换我的远程分支，这就有能力覆盖其他更改，这也是为什么很多人不愿意使用 rebase 的原因。

“妈妈给比萨饼补水！”已添加。

“妈妈给比萨饼补水！”已添加。

假设对我的远程分支进行了其他更改，但我没有在本地进行。因此，在远程`timeline`分支上，Doc 又提交了一个名为“妈妈水合了一个比萨饼！”，这在我当地的`timeline`分公司是不存在的。

现在，如果我进行强制推送，任何不在本地分支上的提交都将丢失，我们也不会得到含水的比萨饼。在这种情况下，我可以将任何新的提交挑选到我的本地`timeline`中，然后进行强制推送。

我知道，我知道，这让我们陷入了反乌托邦的时间线，也毁了马蒂的幸福生活…

重置基础的黄金法则

重定基础的黄金法则是:“当你在一个公共分支机构时，永远不要重定基础。”通过这种方式，没有其他人会推动其他更改，并且没有不在本地 repo 中的提交会存在于远程分支上。所以当你推送的时候，没有删除数据的可能。

## 如果我的计算是正确的，当这个宝贝达到 88 英里的时速，你会看到一些严重的饭桶！！

重定基础的黄金法则是:“当你在一个公共分支机构时，永远不要重定基础。”通过这种方式，没有其他人会推动其他更改，并且没有不在本地 repo 中的提交会存在于远程分支上。所以当你推送的时候，没有删除数据的可能。

如果我的计算是正确的，当这个宝贝达到 88 英里的时速，你会看到一些严重的饭桶！！